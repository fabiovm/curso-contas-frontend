<div class="shadow p-3 mb-5 bg-white rounded">
  <div class="col-lg-12">
    <h3 *ngIf="tipo == 'A'">Alterar Registro</h3>
    <h3 *ngIf="tipo == 'N'">Novo Registro</h3>
    <h3 *ngIf="tipo == 'E'">Excluir Registro</h3>


    <form #formCaixa="ngForm" >

      <div class="form-row">
        <div class="form-group col-md-4">
          <label for="name">None</label>
          <input type="text" class="form-control validate" id="name" name="name" placeholder="Nome" [(ngModel)]="caixa.name"
            required>
        </div>
        <div class="form-group col-md-4">
          <label for="mes">Mês</label>
          <input type="number" class="form-control validate" id="mes" name="mes" placeholder="Mês" [(ngModel)]="caixa.mes"
            required>
        </div>
        <div class="form-group col-md-4">
          <label for="ano">Ano</label>
          <input type="number" class="form-control validate" id="ano" name="ano" placeholder="Ano" [(ngModel)]="caixa.ano"
            required>
        </div>
      </div>

      <div class="form-row">
        <div class="col-md-6">
          <h4>Crédito</h4>
        </div>
        <div class="col-md-6" style="text-align:right">
          <button type="button" class="btn btn-primary" (click)="adicionarCredito()"> Adicionar</button>
        </div>
      </div>

      <div class="form-row" *ngFor="let credito of caixa.credito; let i=index">
        <div class="form-group col-md-4">
          <label for="creditoNome">None</label>
          <input type="text" class="form-control validate" id="creditoNome" name="creditoNome" placeholder="Nome"
            [(ngModel)]="caixa.credito[i].name" [ngModelOptions]="{standalone: true}" required>
        </div>
        <div class="form-group col-md-4">
          <label for="creditoValor">Valor</label>
          <input type="number" class="form-control validate" id="creditoValor" name="creditoValor" placeholder="Valor"
            [(ngModel)]="caixa.credito[i].value" [ngModelOptions]="{standalone: true}" required>
        </div>
        <div class="form-group col-md-4">
          <button style="margin-top: 30px" type="button" class="btn btn-danger"
            (click)="removerCredito(i)">Remover</button>
        </div>
      </div>


      <div class="form-row">
        <div class="col-md-6">
          <h4>Débito</h4>
        </div>
        <div class="col-md-6" style="text-align:right">
          <button type="button" class="btn btn-primary" (click)="adicionarDebito()"> Adicionar</button>
        </div>
      </div>

      <div class="form-row" *ngFor="let debito of caixa.debito; let x=index">
        <div class="form-group col-md-4">
          <label for="debitoNome">None</label>
          <input type="text" class="form-control validate" id="debitoNome" name="debitoNome" placeholder="Nome"
            [(ngModel)]="caixa.debito[x].name" [ngModelOptions]="{standalone: true}" required>
        </div>
        <div class="form-group col-md-4">
          <label for="debitoValor">Valor</label>
          <input type="number" class="form-control validate" id="debitoValor" name="debitoValor" placeholder="Valor"
            [(ngModel)]="caixa.debito[x].value" [ngModelOptions]="{standalone: true}" required>
        </div>
        <div class="form-group col-md-3">
          <label for="debitoStatus">Status</label>
          <input type="text" class="form-control validate" id="debitoStatus" name="debitoStatus" placeholder="Status"
            [(ngModel)]="caixa.debito[x].status" [ngModelOptions]="{standalone: true}" required>
        </div>

        <div class="form-group col-md-1">
          <button style="margin-top: 30px" type="button" class="btn btn-danger"
            (click)="removerDebito(x)">Remover</button>
        </div>
      </div>


      <div class="form-row">

        <button class="btn btn-primary" type="submit" [disabled]="!formCaixa.valid" *ngIf="tipo == 'A'"
          (click)="atualizarCaixa(caixa)"> Atualizar </button>
        <button class="btn btn-primary" type="submit" [disabled]="!formCaixa.valid" *ngIf="tipo == 'N'"
          (click)="adicionarCaixa(caixa)"> Salvar </button>
        <button class="btn btn-danger" type="submit" [disabled]="!formCaixa.valid" *ngIf="tipo == 'E'"
          (click)="removerCaixa(caixa._id)"> Remover </button>
      </div>
    </form>

  </div>
</div>